<!-- mjpc/tasks/simple_car/car_model.xml -->
<mujoco>
  <compiler autolimits="true"/>
  <option timestep="0.002" iterations="50" solver="Newton" tolerance="1e-10">
    <flag gravity="enable"/>
  </option>

  <asset>
    <texture name="grid" type="2d" builtin="checker" width="512" height="512" rgb1=".1 .2 .3" rgb2=".2 .3 .4"/>
    <material name="grid" texture="grid" texrepeat="1 1" texuniform="true" reflectance=".2"/>
    <mesh name="chasis" scale=".01 .006 .0015"
      vertex=" 9   2   0
              -10  10  10
               9  -2   0
               10  3  -10
               10 -3  -10
              -8   10 -10
              -10 -10  10
              -8  -10 -10
              -5   0   20"/>
  </asset>

  <default>
    <joint damping=".1" armature="0.005"/>
    <geom friction="1 0.5 0.5" condim="3"/>
    <default class="wheel">
      <geom type="cylinder" size=".03 .01" rgba=".5 .5 1 1" friction="1.0 0.5 0.5"/>
    </default>
    <default class="decor">
      <site type="box" rgba=".5 1 .5 1"/>
    </default>
  </default>

  <worldbody>
    <geom type="plane" size="3 3 .01" material="grid" friction="1 0.5 0.5" condim="3"/>
    
    <!-- 平面小车 -->
    <body name="car" pos="0 0 .05">
      <!-- 2个slide关节用于XY平面运动 -->
      <joint name="slide_x" type="slide" axis="1 0 0"/>
      <joint name="slide_y" type="slide" axis="0 1 0"/>
      <!-- 移除slide_z，使用固定高度 -->
      
      <inertial pos="0 0 0" mass="1.2" diaginertia="0.015 0.015 0.02"/>
      <light name="top light" pos="0 0 0.1" mode="trackcom" diffuse=".8 .8 .8"/>
      <geom name="chasis" type="mesh" mesh="chasis"/>
      <geom name="front wheel" pos=".08 0 -.015" type="sphere" size=".015" condim="1" priority="1"/>
      
      <!-- 简化的轮子，只用于显示 -->
      <geom name="left_wheel_visual" pos="-.07 .06 -.015" type="cylinder" size=".03 .01" rgba=".5 .5 1 1"/>
      <geom name="right_wheel_visual" pos="-.07 -.06 -.015" type="cylinder" size=".03 .01" rgba=".5 .5 1 1"/>
    </body>
  </worldbody>

  <!-- 执行器配置：位置控制 -->
  <actuator>
    <position name="pos_x" joint="slide_x" ctrlrange="-3 3" kp="50"/>
    <position name="pos_y" joint="slide_y" ctrlrange="-3 3" kp="50"/>
  </actuator>
</mujoco>
